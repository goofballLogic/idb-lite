!function(e){e.set=function(e,n,t){return r("readwrite",t,"put",[n,e])},e.get=function(e,n){return r("readonly",n,"get",[e],!0)},e.closeAll=function(){return Promise.all(Object.keys(t).map(function(e){var n=t[e];return delete t[e],n.then(function(e){return e.close()})}))},e.keys=function(e){return r("readonly",e,"getAllKeys",null,!0)},e.del=function(e,n){return r("readwrite",n,"delete",[e])},e.clear=function(e){return r("readwrite",e,"clear")},e.Store=function(e,n){this.dbName=e,this.name=n};var t={};function r(c,e,i,a,l){var d=e?e.name:"keyval",r=e?e.dbName:"keyval-store",n=encodeURI(r)+"|"+encodeURI(d);return t[n]||(t[n]=new Promise(function(e,n){var t=indexedDB.open(r);t.onerror=n,t.onupgradeneeded=function(){t.result.createObjectStore(d)},t.onsuccess=function(){e(t.result)}})),t[n].then(function(u){return new Promise(function(e,n){var t=u.transaction(d,c);t.onabort=t.onerror=n,t.oncomplete=function(){e(l&&o.result)};var r=t.objectStore(d),o=r[i].apply(r,a)})})}}(window.idbLite={});